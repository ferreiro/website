include ./mixins/Header
include ./mixins/HeaderCentered

doctype html
html
	head
		include ./head.react.pug

	body(class="pushable")
		.container
			block container
				#app
			div!=ssrHtml

		//- In local dev we have the react server in the port 9000.  So we use
		//- localhost directly. In production, we only serve those assets
		//- directly in our backend. So not longer need port 9000.
		//- TODO: Probably inject this value from the pug view.
		- bundleUrl = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:9000'
		script(src= bundleUrl + "/client.bundle.js")

		script.
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
			ga('create', 'UA-75997945-1', 'auto');
			ga('send', 'pageview');
